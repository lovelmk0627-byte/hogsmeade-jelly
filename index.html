<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>í˜¸ê·¸ìŠ¤ë¯¸ë“œ ì ¤ë¦¬ ë½‘ê¸°</title>
  <style>
    body {
      font-family: "ë§‘ì€ ê³ ë”•", sans-serif;
      background: #f4f1ea;
      padding: 20px;
    }
    .box {
      background: white;
      padding: 20px;
      max-width: 500px;
      margin: auto;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h1 { text-align: center; }
    input, button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      font-size: 16px;
    }
    button { cursor: pointer; }
    .result {
      margin-top: 20px;
      padding: 15px;
      background: #eee;
      border-radius: 8px;
      white-space: pre-line;
    }
  </style>
</head>
<body>

<div class="box">
  <h1>ğŸ¬ í˜¸ê·¸ìŠ¤ë¯¸ë“œ ì ¤ë¦¬ ë½‘ê¸°</h1>

  <p>
    í˜¸ê·¸ìŠ¤ë¯¸ë“œì— ë„ì°©í•œ ë‹¹ì‹ ì€<br>
    ì¹´ë©œ êµìˆ˜ì™€ ë§ˆì£¼ì¹œë‹¤.
  </p>

  <input type="text" id="name" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">

  <input type="number" id="luck" placeholder="í–‰ìš´ ìˆ˜ì¹˜ (1~5)" min="1" max="5">

  <button onclick="draw()">ì ¤ë¦¬ ë¨¹ê¸°</button>

  <div class="result" id="result">ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
</div>

<script>
const bad = [
  {name:"ì½”ë”±ì§€", effect:"ì§€ëŠ¥ -1"},
  {name:"ì§€ë ì´", effect:"í–‰ìš´ -1"},
  {name:"ê·€ì§€", effect:"ê·¼ë ¥ -1"}
];

const normal = [
  {name:"ë°”ë‚˜ë‚˜", effect:"ê·¼ë ¥ +1"},
  {name:"ì²­ì‚¬ê³¼", effect:"í–‰ìš´ +1"},
  {name:"ë§ˆì‹œë©œë¡œìš°", effect:"ì§€ëŠ¥ +1"},
  {name:"ë¸”ë£¨ë² ë¦¬", effect:"ì§€ëŠ¥ +1"},
  {name:"ë ˆëª¬ì‚¬íƒ•", effect:"í–‰ìš´ +1"},
  {name:"ì‹œë‚˜ëª¬", effect:"ê·¼ë ¥ +1"},
  {name:"ìˆ˜ë°•", effect:"ë¯¼ì²© +1"},
  {name:"ì²´ë¦¬", effect:"ë¯¼ì²© +1"}
];

const good = [
  {name:"ì†œì‚¬íƒ•", effect:"ì²´ë ¥ +5"},
  {name:"ì„¤íƒ• ë¬»íŒ ê³¼ì¼", effect:"ì²´ë ¥ +5"}
];

const rates = {
  1: [40, 40, 20, 0],
  2: [30, 30, 35, 5],
  3: [20, 20, 45, 15],
  4: [10, 10, 55, 25],
  5: [0, 5, 60, 35]
};

function draw() {
  const name = document.getElementById("name").value || "ì´ë¦„ ì—†ëŠ” ë§ˆë²•ì‚¬";
  const luck = parseInt(document.getElementById("luck").value);

  if (luck < 1 || luck > 5 || isNaN(luck)) {
    document.getElementById("result").innerText =
      "âš ï¸ í–‰ìš´ ìˆ˜ì¹˜ëŠ” 1ì—ì„œ 5 ì‚¬ì´ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.";
    return;
  }

  const roll = Math.floor(Math.random() * 100) + 1;
  const [empty, badR, normalR, goodR] = rates[luck];
  let text = `${name}ì€(ëŠ”) ì ¤ë¦¬ë¹ˆì„ ì…ì— ë„£ì—ˆë‹¤...\n\n`;

  if (roll <= empty) {
    text += "âŒ ê½!\nì•„ë¬´ëŸ° íš¨ê³¼ë„ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ë‹¤.";
  } 
  else if (roll <= empty + badR) {
    const j = bad[Math.floor(Math.random() * bad.length)];
    text += `ğŸ’€ ${j.name}\nê¸°ì–µí•˜ê³  ì‹¶ì§€ ì•Šì€ ë§›ì´ë‹¤.\n(${j.effect})`;
  } 
  else if (roll <= empty + badR + normalR) {
    const j = normal[Math.floor(Math.random() * normal.length)];
    text += `ğŸ¬ ${j.name}\nìµìˆ™í•œ ë§›ì´ ì…ì•ˆì„ ê°ì‹¼ë‹¤.\n(${j.effect})`;
  } 
  else {
    const j = good[Math.floor(Math.random() * good.length)];
    text += `âœ¨ ${j.name}\nê¸°ë¶„ ì¢‹ì€ ë‹¨ë§›ì´ í¼ì§„ë‹¤!\n(${j.effect})`;
  }

  document.getElementById("result").innerText = text;
}
</script>

</body>
</html>
